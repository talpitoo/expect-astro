---
import SvgBMask from "./SvgBMask.astro";
import SvgEMask from "./SvgEMask.astro";
import SvgYMask from "./SvgYMask.astro";
import SvgOMask from "./SvgOMask.astro";
import SvgNMask from "./SvgNMask.astro";
import SvgDMask from "./SvgDMask.astro";
---

<div
  class="flex items-center justify-center flex-wrap mx-auto md:-mt-[60px]"
  aria-hidden="true"
>
  <div
    class="inline-flex items-center text-gray-darker dark:text-white -space-x-[1.75px]"
  >
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="12"
      height="32"
      viewBox="0 0 12 32"
      class="w-[21.219px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M4.544 11.072l-0.032 6.048 3.008 0.032 2.72-0.064 0.128 0.16-0.128 1.216h-5.76v2.208l0.064 4.928h-1.568l0.032-4.8-0.032-11.040h8.64l0.096 0.192-0.16 1.216-3.808-0.096h-3.2z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="15"
      height="32"
      viewBox="0 0 15 32"
      class="w-[27.016px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M13.792 25.216v0.224q-0.608 0.256-1.408 0.352l-0.288-0.16q-2.368-3.2-4.16-6.144l-3.264 0.032v1.152l0.032 4.928h-1.568l0.064-4.8-0.064-11.040 4.672-0.032q2.432 0 3.744 1.168t1.312 3.312q0 1.696-0.928 2.976t-2.656 1.952q2.016 3.040 4.512 6.080zM4.672 18.176l3.328 0.064q1.6-0.416 2.416-1.408t0.816-2.496q0-3.136-3.68-3.328l-2.816 0.064z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="18"
      height="32"
      viewBox="0 0 18 32"
      class="w-[31.063px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M14.304 11.632q1.824 2.032 1.824 5.744 0 4.032-1.936 6.208t-5.488 2.176q-3.392 0-5.232-2.080t-1.84-5.888q0-3.936 1.936-6.064t5.52-2.128q3.392 0 5.216 2.032zM3.264 17.6q0 6.816 5.504 6.816 2.816 0 4.288-1.696t1.472-5.088q0-6.656-5.568-6.656-5.696 0-5.696 6.624z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="19"
      height="32"
      viewBox="0 0 19 32"
      class="w-[33.141px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M15.744 21.024v4.576h-1.664l-9.344-13.216h-0.128l-0.032 8.096 0.032 5.12h-1.472l0.064-4.672-0.032-11.168h1.664l9.344 13.248h0.16v-13.184l1.472-0.096z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="14"
      height="32"
      viewBox="0 0 14 32"
      class="w-[24.227px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M12.704 9.952l-0.128 1.28-2.848-0.128h-1.984l-0.064 9.568 0.064 4.928h-1.568l0.032-4.8-0.032-9.696h-1.952l-2.912 0.128-0.128-0.16 0.128-1.312h11.296z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="14"
      height="32"
      viewBox="0 0 14 32"
      class="w-[23.734px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M12.352 24.384l-0.192 1.216h-9.024l0.064-4.8-0.064-11.040h9.024l0.128 0.192-0.16 1.216-3.936-0.096h-3.456l-0.032 5.696 3.264 0.032 2.816-0.064 0.096 0.192-0.128 1.248-2.912-0.064-3.168 0.032v2.528l0.032 3.616h3.264l4.224-0.064z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="19"
      height="32"
      viewBox="0 0 19 32"
      class="w-[33.141px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M15.744 21.024v4.576h-1.664l-9.344-13.216h-0.128l-0.032 8.096 0.032 5.12h-1.472l0.064-4.672-0.032-11.168h1.664l9.344 13.248h0.16v-13.184l1.472-0.096z"
      ></path>
    </svg>
    <svg
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      width="18"
      height="32"
      viewBox="0 0 18 32"
      class="w-[31.555px] h-[56px]"
    >
      <path
        fill="currentColor"
        d="M14.464 11.584q1.92 1.952 1.92 5.568 0 4.16-2.032 6.368t-5.84 2.208q-1.024 0-2.56-0.032t-2.816-0.096l0.064-4.8-0.064-11.040 5.824-0.128q3.584 0 5.504 1.952zM13.216 22.64q1.568-1.776 1.568-5.2 0-3.2-1.504-4.816t-4.416-1.616q-0.736 0-1.92 0.032t-2.208 0.096l-0.064 9.536 0.032 3.616q2.176 0.128 4 0.128 2.944 0 4.512-1.776z"
      ></path>
    </svg>
  </div>

  <!-- simple ampersand character -->
  <!-- <svg
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    width="25"
    height="32"
    viewBox="0 0 25 32"
    class="size-[43.477px] text-primary"
  >
    <path
      fill="currentColor"
      id="ampersand"
      d="M26.56 14.976q-0.64 1.312-1.424 1.936t-2.064 0.72q-0.992 0-3.744-0.576-0.032 2.624-1.232 4.64t-3.312 3.12-4.864 1.104q-2.56 0-4.448-1.056t-2.896-2.992-1.008-4.528q0-2.272 0.8-4.032t2.176-2.736 3.040-0.976q1.6 0 2.544 0.768t0.944 1.984q0 0.736-0.288 1.344 3.136-2.24 5.552-5.040t3.76-5.808h0.192q0.48 0.544 0.672 1.216-1.376 3.008-4.128 5.984t-6.32 5.36-7.312 3.696q0.512 2.56 2.272 4.032t4.512 1.472q2.4 0 4.24-0.976t2.832-2.752 0.96-4.080q-1.504-0.32-2.208-0.32-1.92 0-2.848 2.208l-0.224 0.064-0.48-0.896q0.64-1.312 1.44-1.936t2.080-0.72q0.672 0 1.888 0.24t1.568 0.304q2.688 0.608 3.776 0.608 2.016 0 2.848-2.208l0.224-0.064zM5.248 11.616q-1.024 0.8-1.616 2.24t-0.592 3.328q0 0.448 0.032 0.64 2.688-0.96 5.472-2.624 1.312-1.056 1.312-2.464 0-0.896-0.608-1.408t-1.664-0.512q-1.312 0-2.336 0.8z"
    ></path>
  </svg> -->
  <svg
    class="size-[43.477px] text-primary"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    x="0px"
    y="0px"
    width="25"
    height="32"
    viewBox="0 0 25 32"
    style="enable-background:new 0 0 25 32;"
    xml:space="preserve"
  >
    <style type="text/css">
      .st0 {
        fill: none;
        stroke: #ffffff;
        stroke-width: 2;
        stroke-miterlimit: 10;
      }
    </style>
    <g id="ampersand">
      <path
        fill="currentColor"
        mask="url(#reveal)"
        d="M26.6,15c-0.4,0.9-0.9,1.5-1.4,1.9s-1.2,0.7-2.1,0.7c-0.7,0-1.9-0.2-3.7-0.6c0,1.7-0.4,3.3-1.2,4.6s-1.9,2.4-3.3,3.1
		c-1.4,0.7-3,1.1-4.9,1.1c-1.7,0-3.2-0.4-4.4-1.1s-2.2-1.7-2.9-3s-1-2.8-1-4.5c0-1.5,0.3-2.9,0.8-4s1.3-2.1,2.2-2.7s1.9-1,3-1
		c1.1,0,1.9,0.3,2.5,0.8c0.6,0.5,0.9,1.2,0.9,2c0,0.5-0.1,0.9-0.3,1.3c2.1-1.5,3.9-3.2,5.6-5c1.6-1.9,2.9-3.8,3.8-5.8h0.2
		c0.3,0.4,0.5,0.8,0.7,1.2c-0.9,2-2.3,4-4.1,6s-3.9,3.8-6.3,5.4c-2.4,1.6-4.8,2.8-7.3,3.7c0.3,1.7,1.1,3.1,2.3,4
		c1.2,1,2.7,1.5,4.5,1.5c1.6,0,3-0.3,4.2-1s2.2-1.6,2.8-2.8c0.7-1.2,1-2.5,1-4.1c-1-0.2-1.7-0.3-2.2-0.3c-1.3,0-2.2,0.7-2.8,2.2
		l-0.2,0.1l-0.5-0.9c0.4-0.9,0.9-1.5,1.4-1.9c0.5-0.4,1.2-0.7,2.1-0.7c0.4,0,1.1,0.1,1.9,0.2s1.3,0.3,1.6,0.3
		c1.8,0.4,3.1,0.6,3.8,0.6c1.3,0,2.3-0.7,2.8-2.2l0.2-0.1L26.6,15z M5.2,11.6c-0.7,0.5-1.2,1.3-1.6,2.2S3,15.9,3,17.2
		c0,0.3,0,0.5,0,0.6c1.8-0.6,3.6-1.5,5.5-2.6c0.9-0.7,1.3-1.5,1.3-2.5c0-0.6-0.2-1.1-0.6-1.4s-1-0.5-1.7-0.5
		C6.7,10.8,5.9,11.1,5.2,11.6z"
      ></path>
    </g>

    <!-- Mask definition -->
    <mask id="reveal">
      <!-- Black background hides everything -->
      <rect width="100%" height="100%" fill="black"></rect>
      <!-- White stroke reveals the ampersand -->
      <g id="trace1">
        <path
          class="st0"
          d="M3,18.6c0,0,11-4,6.5-7.8c-2.9-2.4-6.5,1.9-7,3.9c-2.9,11.6,14.1,15.8,16.3,1.9"
        ></path>
      </g>
      <g id="trace2">
        <path class="st0" d="M2.4,18.8c0,0,11.8-3.8,18.6-16"></path>
      </g>
      <g id="trace3">
        <path
          class="st0"
          d="M12.3,18.8c0,0,0.4-1.9,2.2-2.8c2.5-1.3,7.1,1.7,9.3,0.9c2.2-0.8,2.5-3,2.5-3"
        ></path>
      </g>
    </mask>
  </svg>

  <div class="inline-flex items-center text-primary -space-x-[1.75px]">
    <SvgBMask />
    <SvgEMask />
    <SvgYMask />
    <SvgOMask />
    <SvgNMask />
    <SvgDMask />
  </div>
</div>

<script is:inline>
  // Wait for GSAP to be ready
  function initSvgTrace() {
    if (!window.gsap) return;

    const { gsap } = window;

    // Trace SVG animation
    let tl = gsap.timeline({ defaults: { duration: 0.6, ease: "none" } });
    gsap
      .timeline({ repeat: -1, repeatDelay: 5 }) // -1 = infinite repeats
      .from("#trace2 path", { drawSVG: 0, duration: 0.6 })
      .from("#trace1 path", { drawSVG: 0, duration: 0.6, stagger: 0.05 }, "-=0.5")
      .from("#trace3 path", { drawSVG: 0, duration: 0.6, stagger: 0.05 }, "-=0.4")
      .from(
        "#trace-b2 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-b1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-e1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-e2 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-e3 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-e4 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-y1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-y2 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-o1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-n1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      )
      .from(
        "#trace-d1 path",
        { drawSVG: 0, duration: 0.6, stagger: 0.05 },
        "-=0.5"
      );
  }

  // Listen for GSAP ready event
  document.addEventListener("gsap:ready", initSvgTrace);

  // Fallback if GSAP is already loaded
  if (window.gsap) {
    initSvgTrace();
  }
</script>
